<%- include ("partials/header") %>
<div class="card">
    <div class="card-body p-4">

      <div class="row">

        <div class="col-lg-7">
          <button id="clear-cart">Clear Cart</button>
          <hr>
            
          <div class="d-flex justify-content-between align-items-center mb-4">
            <div>
              <p class="mb-1">Shopping cart</p>
        
              <p class="mb-0">You have <%= cartItems.length %> pieces in your cart</p>
            </div>
        
          </div>
<!-- start of product cart items -->
            <% let totalPrice = 0; %>
            <% if (cartItems.length > 0) { %>
                <% cartItems.forEach(item => { %>

          <div class="card mb-3">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <div class="d-flex flex-row align-items-center">
                  <div class="ms-3">
                    <h5><%= item.productName %></h5>
                    <p class="small mb-0"><%= item.productSize %></p>
                  </div>
                </div>
                <div class="d-flex flex-row align-items-center">
                  <div style="width: 80px;">
                    <h5 class="mb-0">$<%= item.productPrice %></h5>
                  </div>
                  <a href="#!" style="color: black;" class="remove-button">remove</i></a>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
          <% } %>

<!-- end of product cart item -->

              <div class="d-flex justify-content-between">
                <p class="mb-2">Total</p>
                <% if (cartItems.length > 0) { %>
                    <% cartItems.forEach(item => { %>
                    <% totalPrice = totalPrice + item.productPrice %>
                    <% }) %>
                    <% } %>
                <p class="mb-2">$<%= totalPrice %></p>
              </div>



              <button type="button" data-mdb-button-init="" data-mdb-ripple-init="" class="btn btn-info btn-block btn-lg" data-mdb-button-initialized="true">
                <div class="d-flex justify-content-between">
                  <span>Checkout <i class="fas fa-long-arrow-alt-right ms-2"></i></span>
                </div>
              </button>

            </div>
          </div>

        </div>

      </div>

    </div>
  </div>


<%- include ("partials/footer") %>